# Smart Goblin — Concept

## Name
**Smart Goblin** — AI-помічник для аналізу та оптимізації MTG Draft колод.

## Problem
Гравці Magic: The Gathering у форматі Limited (Draft) часто не знають, які карти в їхній колоді слабкі, а які з sideboard варто додати. Оцінка колоди вимагає досвіду та знання актуальної мети, що складно для новачків та гравців середнього рівня. Існуючі ресурси (17lands, tier-листи) вимагають ручного пошуку кожної карти.

## Solution
Telegram-бот, який отримує фото колоди (скріншот MTG Arena або фото фізичних карт), автоматично розпізнає карти за допомогою AI Vision, збагачує їх статистикою з 17lands та Scryfall, і генерує персоналізовані поради щодо оптимізації колоди за допомогою LLM. Система автоматично визначає сет за картами на фото.

## Core Rules

### Розпізнавання карт
- **AI Vision (GPT-4 Vision / Claude Vision)** аналізує зображення та ідентифікує назви карт
- Підтримка **двох форматів фото**: скріншоти MTG Arena та фото фізичних карт, викладених рядками
- Система розрізняє **main deck** та **sideboard** за розташуванням на зображенні
- **Автоматичне визначення сету** за ідентифікованими картами

### База даних карт
- Дані карт зберігаються з **міткою джерела** (17lands, Scryfall, тощо)
- Для кожної карти зберігається: **назва, сет, рейтинг (1-5), win rate %, джерело**
- **Парсери** для різних сайтів реалізовані як окремі модулі
- База оновлюється **при виході нового сету** або за розкладом

### Аналіз та поради
- **LLM з контекстом** генерує поради на основі статистики карт та принципів драфту
- Загальна оцінка колоди: **бали** та **очікуваний win rate %**
- Конкретні рекомендації: які карти **прибрати в sideboard**, які **додати з sideboard**
- Врахування **кривої мани**, **кольорового балансу**, **синергій**

### Історія та персистентність
- **Історія аналізів** зберігається для кожного користувача
- Користувач може **переглянути минулі аналізи** та порівняти колоди

## Commands / API / Interface

| Команда | Опис |
|---------|------|
| `/start` | Привітання та інструкція користування |
| `/help` | Довідка по командах та форматах фото |
| `/analyze` + фото | Аналіз колоди з фотографії |
| `/history` | Список минулих аналізів |
| `/history {id}` | Деталі конкретного аналізу |
| `/set {name}` | Вручну вказати сет (опціонально) |
| `/stats {card_name}` | Статистика конкретної карти |

## User Interface
- **Telegram-бот** як основний інтерфейс
- Користувач надсилає **фото колоди** (скріншот Arena або фото столу)
- Бот відповідає **структурованим повідомленням**:
  - Список розпізнаних карт (main deck / sideboard)
  - Загальна оцінка колоди
  - Конкретні рекомендації щодо змін
  - Пояснення від LLM
- **Inline-кнопки** для навігації по історії та додаткових дій
- Архітектура дозволяє **додавати інші інтерфейси** (Discord, Web) без зміни ядра

## Interface Language
Українська

## Target Audience
- **MTG гравці формату Limited/Draft** — від новачків до середнього рівня
- Гравці, які хочуть **швидко оцінити колоду** під час або після драфту
- Використання: **1-5 разів на тиждень** під час драфт-сесій
- Гравці MTG Arena та паперового Magic
